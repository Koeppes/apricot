<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:b="http://bootsfaces.net/ui" xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">

<h:head>
	<h:outputStylesheet library="themes"
		name="#{themeSelectorBean.theme}.min.css"
		rendered="#{themeSelectorBean.bootswatchTheme}"></h:outputStylesheet>
</h:head>

<h:body>
	<h:form enctype="multipart/form-data">
		<p:fileUpload value="#{auswertungBean.file}" mode="simple"
			fileUploadListener="#{auswertungBean.fileUploadListener}"></p:fileUpload>
		<h:commandButton value="Hochladen" action="#{auswertungBean.upload}"></h:commandButton>
		<p:separator />
	</h:form>
	<h:form>
		<b:container>
			<b:panelGrid columns="1">
				<b:dataTable id="dataTableAuswertung"
					value="#{auswertungBean.auswertungen}" var="auswertung"
					onselect="ajax:auswertungBean.onSelect(auswertung, typeOfSelection, indexes);"
					ondeselect="ajax:auswertungBean.onDeselect(auswertung, typeOfSelection, indexes);"
					selected-row="#{auswertungBean.selectedRows}" select="true"
					selectionMode="single">
					<b:dataTableColumn id="columnName" value="#{auswertung.filename}" />
				</b:dataTable>
			</b:panelGrid>
			<b:buttonGroup id="buttonGroup">
				<b:commandButton id="auswertenButton"
					actionListener="#{auswertungBean.auswerten}" value="Alle Auswerten" />
			</b:buttonGroup>
			<b:dataTable id="dataTableErgebnisse"
				value="#{auswertungBean.ergebnisse}" var="ergebnis"
				selectionMode="single">
				<b:dataTableColumn id="columnDescription" value="#{ergebnis.produkt.description}" />
				<b:dataTableColumn id="columnCount"  value="#{ergebnis.count}" />
			</b:dataTable>
		</b:container>
	</h:form>
</h:body>
</html>