<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:f="http://java.sun.com/jsf/core">

<h:head>
	<h:outputStylesheet library="themes"
		name="#{themeSelectorBean.theme}.min.css"
		rendered="#{themeSelectorBean.bootswatchTheme}"></h:outputStylesheet>
</h:head>
<h:body>
	<b:container>
		<h:form id="productSearch">
			<b:commandButton actionListener="#{productSearchBean.abmelden}"
				value="Abmelden" update="@form" />
			<br />
			<br />
			<b:panelGrid columns="1">
				<b:dataTable id="dataTable" value="#{productSearchBean.produkte}"
					var="produkt"
					onselect="ajax:productSearchBean.onSelect(produkt, typeOfSelection, indexes);"
					ondeselect="ajax:productSearchBean.onDeselect(produkt, typeOfSelection, indexes);"
					selected-row="#{productSearchBean.selectedRows}" select="true"
					selectionMode="single" render=":form:deleteButton">
					<b:dataTableColumn id="columnName" value="#{produkt.description}" />
					<b:dataTableColumn label="Kategorie" value="#{produkt.kategorie}" />
					<b:dataTableColumn value="#{produkt.material}" />
					<b:dataTableColumn value="#{produkt.farbe}" />
					<b:dataTableColumn label="Einkaufspreis"
						value="#{produkt.purchasePrice}" />
					<b:dataTableColumn label="Verkaufspreis"
						value="#{produkt.sellingPrice}" />
					<b:dataTableColumn label="Reduzierter Preis"
						value="#{produkt.salePrice}" />
					<b:dataTableColumn value="#{produkt.serialnumber}" />
					<f:ajax render="deleteButton editButton copyButton" />
				</b:dataTable>
			</b:panelGrid>
			<b:buttonGroup id="buttonGroup">
				<b:commandButton actionListener="#{productSearchBean.createProdukt}"
					value="Neu" update="@form" />
				<b:commandButton id="editButton"
					disabled="#{productSearchBean.buttonsDisabled}"
					actionListener="#{productSearchBean.editProdukt}"
					value="Bearbeiten" />
				<b:button onclick="$('.formValidationModalClass').modal('show')"
					value="Löschen" />
				<b:modal title="Achtung" closable="false" closeOnEscape="true"
					styleClass="formValidationModalClass">
					<p>Produkt löschen?</p>
					<b:row>
						<b:column>
							<b:button id="deleteButton" largeScreen="half" value="Abbrechen" dismiss="modal"
								onclick="return false;" />
							<b:commandButton largeScreen="half" update="@form"
								actionListener="#{productSearchBean.deleteProdukt}"
								onclick="return true;"
								oncomplete="{ $('.formValidationModalClass').modal('hide') } "
								dismiss="modal" value="OK" look="success" />
						</b:column>
					</b:row>
				</b:modal>
				<b:commandButton actionListener="#{productSearchBean.copyProdukt}"
					disabled="#{productSearchBean.buttonsDisabled}" id="copyButton"
					value="Kopieren" />
			</b:buttonGroup>
			<b:message />
		</h:form>
	</b:container>
</h:body>
</html>